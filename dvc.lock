schema: '2.0'
stages:
  extract_wormhole_data:
    cmd: pixi run python scripts/extract_wormhole_data.py
    deps:
    - path: params/extract_wormhole_data.yaml
      hash: md5
      md5: a54b39a5fb44254bd1a539eb8308a568
      size: 315
    - path: scripts/extract_wormhole_data.py
      hash: md5
      md5: c8fc73a1b91826ea5226e8037362a302
      size: 5971
    params:
      params/extract_wormhole_data.yaml:
        base_url: https://wormhole.jax.org
        data_url: https://wormhole.jax.org/static/data/
        files_to_download:
        - WORMHOLE-canonical-IDs.tar.gz
        - WORMHOLE-aliases.tar.gz
        - PANTHER-LDO-ortholog-pairs.tar.gz
        - WHRefOGs.tar.gz
        - WORMHOLE-ortholog-pairs.tar.gz
        output_dir: data/01_raw/wormhole_extracts
    outs:
    - path: data/01_raw/wormhole_extracts/PANTHER-LDO-ortholog-pairs.tar.gz
      hash: md5
      md5: 7ec415bd70c39b75bee21099f56618de
      size: 6853632
    - path: data/01_raw/wormhole_extracts/WHRefOGs.tar.gz
      hash: md5
      md5: 0eeb99d50eabe7a50ab9050fa68c8c54
      size: 213504
    - path: data/01_raw/wormhole_extracts/WORMHOLE-aliases.tar.gz
      hash: md5
      md5: ea309eb95106655fa7bf6623b3a4ca61
      size: 98428928
    - path: data/01_raw/wormhole_extracts/WORMHOLE-canonical-IDs.tar.gz
      hash: md5
      md5: d0a5233f71b2660460f0a7bdd67e2d23
      size: 3781632
    - path: data/01_raw/wormhole_extracts/WORMHOLE-ortholog-pairs.tar.gz
      hash: md5
      md5: 95202ffd9680c6389bb70a13ba5963b1
      size: 1233839616
    - path: data/01_raw/wormhole_extracts/download_log.json
      hash: md5
      md5: f333365c1bd0cde86f370a8db0f7908a
      size: 2208
  extract_coxpresdb_data:
    cmd: pixi run python scripts/extract_coxpresdb_data.py
    deps:
    - path: params/extract_coxpresdb_data.yaml
      hash: md5
      md5: b8b3a82b9c4efe8c095e76175ffaada9
      size: 3675
    - path: scripts/extract_coxpresdb_data.py
      hash: md5
      md5: 942eceb61abacfdf697bb5bd01976115
      size: 4120
      isexec: true
    params:
      params/extract_coxpresdb_data.yaml:
        base_url: https://coxpresdb.jp/download/
        files_to_download:
        - https://zenodo.org/record/6861444/files/Cel-u.v22-05.G14532-S7142.combat_pca.subagging.z.d.zip
        - https://zenodo.org/record/6861444/files/Cel-m.v21-06.G17256-S1357.combat_pca.subagging.ls.d.zip
        - https://zenodo.org/record/6861444/files/Cel-r.v21-10.G14532-S5785.combat_pca.subagging.ls.d.zip
        - https://zenodo.org/record/6861444/files/Cfa-u.v22-05.G15365-S1980.combat_pca.subagging.z.d.zip
        - https://zenodo.org/record/6861444/files/Cfa-m.v21-06.G16214-S619.combat_pca.subagging.ls.d.zip
        - https://zenodo.org/record/6861444/files/Cfa-r.v21-10.G15365-S1361.combat_pca.subagging.ls.d.zip
        - https://zenodo.org/record/6861444/files/Dme-u.v22-05.G12209-S15610.combat_pca.subagging.z.d.zip
        - https://zenodo.org/record/6861444/files/Dme-m.v21-06.G12626-S3401.combat_pca.subagging.ls.d.zip
        - https://zenodo.org/record/6861444/files/Dme-r.v21-10.G12209-S13514.combat_pca.subagging.ls.d.zip
        - https://zenodo.org/record/6861444/files/Dre-u.v22-05.G20344-S11358.combat_pca.subagging.z.d.zip
        - https://zenodo.org/record/6861444/files/Dre-m.v21-06.G10112-S1321.combat_pca.subagging.ls.d.zip
        - https://zenodo.org/record/6861444/files/Dre-r.v21-10.G20344-S10037.combat_pca.subagging.ls.d.zip
        - https://zenodo.org/record/6861444/files/Fca-r.v21-11.G19735-S267.combat_pca.subagging.z.d.zip
        - https://zenodo.org/record/6861444/files/Gga-u.v22-05.G15998-S4488.combat_pca.subagging.z.d.zip
        - https://zenodo.org/record/6861444/files/Gga-m.v21-06.G13757-S1155.combat_pca.subagging.ls.d.zip
        - https://zenodo.org/record/6861444/files/Gga-r.v21-10.G15998-S3333.combat_pca.subagging.ls.d.zip
        - https://zenodo.org/record/6861444/files/Hsa-u.v22-05.G16651-S245698.combat_pca.subagging.z.d.zip
        - https://zenodo.org/record/6861444/files/Hsa-m.v21-06.G20283-S25362.combat_pca.subagging.ls.d.zip
        - https://zenodo.org/record/6861444/files/Hsa2-m.v21-06.G20199-S10511.combat_pca.subagging.ls.d.zip
        - https://zenodo.org/record/6861444/files/Hsa-r.v22-05.G16651-S235187.combat_pca.subagging.z.d.zip
        - https://coxpresdb.jp/download/Mcc-u.c3-1/coex/Mcc-u.v22-05.G16312-S6255.combat_pca.subagging.z.d.zip
        - https://zenodo.org/record/6861444/files/Mcc-m.v21-06.G15782-S590.combat_pca.subagging.ls.d.zip
        - https://zenodo.org/record/6861444/files/Mcc-r.v21-10.G16312-S5665.combat_pca.subagging.ls.d.zip
        - https://zenodo.org/record/6861444/files/Mmu-u.v22-05.G17008-S239840.combat_pca.subagging.z.d.zip
        - https://zenodo.org/record/6861444/files/Mmu-m.v21-06.G20962-S25087.combat_pca.subagging.ls.d.zip
        - https://zenodo.org/record/6861444/files/Mmu-r.v22-05.G17008-S214753.combat_pca.subagging.z.d.zip
        - https://zenodo.org/record/6861444/files/Rno-u.v22-05.G16521-S21139.combat_pca.subagging.z.d.zip
        - https://zenodo.org/record/6861444/files/Rno-m.v21-06.G13751-S7872.combat_pca.subagging.ls.d.zip
        - https://zenodo.org/record/6861444/files/Rno-r.v21-10.G16521-S13267.combat_pca.subagging.ls.d.zip
        - https://zenodo.org/record/6861444/files/Sce-u.v22-05.G5718-S8789.combat_pca.subagging.z.d.zip
        - https://zenodo.org/record/6861444/files/Sce-m.v21-06.G4461-S3071.combat_pca.subagging.ls.d.zip
        - https://zenodo.org/record/6861444/files/Sce-r.v21-11.G5718-S6225.combat_pca.subagging.ls.d.zip
        - https://zenodo.org/record/6861444/files/Spo-u.v22-05.G5512-S722.combat_pca.subagging.z.d.zip
        - https://zenodo.org/record/6861444/files/Spo-m.v21-06.G4881-S166.combat_pca.subagging.ls.d.zip
        - https://zenodo.org/record/6861444/files/Spo-r.v21-10.G5512-S556.combat_pca.subagging.ls.d.zip
        output_dir: data/01_raw/coxpresdb_extracts
    outs:
    - path: data/01_raw/coxpresdb_extracts/
      hash: md5
      md5: 8c7ff1c6eac821a854d713c4fa424874.dir
      size: 31830765117
      nfiles: 35
  transform_coxpresdb_data:
    cmd: pixi run python scripts/transform_coxpresdb_data.py
    deps:
    - path: data/01_raw/coxpresdb_extracts/
      hash: md5
      md5: 8c7ff1c6eac821a854d713c4fa424874.dir
      size: 31830765117
      nfiles: 35
    - path: params/transform_coxpresdb_data.yaml
      hash: md5
      md5: 2d3726c5b0a8f3635ab98252faf16215
      size: 110
    - path: scripts/transform_coxpresdb_data.py
      hash: md5
      md5: 697b9eafb014385f51d42905bdd31857
      size: 7452
    params:
      params/transform_coxpresdb_data.yaml:
        compression: snappy
        input_dir: data/01_raw/coxpresdb_extracts
        output_dir: data/02_transformed/coxpresdb
    outs:
    - path: data/02_transformed/coxpresdb/
      hash: md5
      md5: d46239644bf9513654d510f8b5f42827.dir
      size: 51077900184
      nfiles: 486047
    - path: data/02_transformed/transform_log.json
      hash: md5
      md5: b8011a5637e5337bf682d7ef3da4296e
      size: 6817
